{"version":3,"sources":["ng://highcharts-angular/lib/highcharts-chart.component.ts","ng://highcharts-angular/lib/highcharts-chart.module.ts"],"names":["HighchartsChartComponent","el","_zone","this","EventEmitter","prototype","val","optionsValue","wrappedUpdateOrCreateChart","updateChange","emit","_this","runOutsideAngular","updateOrCreateChart","chart","update","oneToOne","constructorType","nativeElement","callbackFunction","chartInstance","ngOnDestroy","destroy","Component","args","selector","template","ElementRef","NgZone","Input","Output","HighchartsChartModule","NgModule","declarations","exports"],"mappings":"kRAAA,IAAAA,EAAA,WA+BE,SAAAA,EACUC,EACAC,GADAC,KAAAF,GAAAA,EACAE,KAAAD,MAAAA,oBARe,IAAIE,EAAAA,cAAsB,sBACzB,IAAIA,EAAAA,0CAZjBJ,EAAAK,UAAA,UAAO,cAACC,GACnBH,KAAKI,aAAeD,EACpBH,KAAKK,oFAEMR,EAAAK,UAAA,SAAM,cAACC,GACdA,IACFH,KAAKK,6BACLL,KAAKM,aAAaC,MAAK,qCAe3BV,EAAAK,UAAAG,2BAAA,WAAA,IAAAG,EAAAR,KACMA,KAAKS,kBACPT,KAAKD,MAAMU,kBAAkB,WAC3BD,EAAKE,wBAGPV,KAAKU,uBAITb,EAAAK,UAAAQ,oBAAA,WACMV,KAAKW,OAASX,KAAKW,MAAMC,OAC3BZ,KAAKW,MAAMC,OAAOZ,KAAKI,cAAc,EAAMJ,KAAKa,WAAY,IAE5Db,KAAKW,MAASX,KAAsB,WAAEA,KAAKc,iBAAmB,SAC5Dd,KAAKF,GAAGiB,cACRf,KAAKI,aACLJ,KAAKgB,kBAAoB,MAI3BhB,KAAKiB,cAAcV,KAAKP,KAAKW,SAIjCd,EAAAK,UAAAgB,YAAA,WACMlB,KAAKW,QACPX,KAAKW,MAAMQ,UACXnB,KAAKW,MAAQ,2BA7DlBS,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,mBACVC,SAAU,gDALQC,EAAAA,kBAAoDC,EAAAA,8CAQrEC,EAAAA,+BACAA,EAAAA,gCACAA,EAAAA,wBACAA,EAAAA,iCACAA,EAAAA,uBAEAA,EAAAA,sBAIAA,EAAAA,4BAOAC,EAAAA,8BACAA,EAAAA,YA1BH,GCAAC,EAAA,oDAGCC,EAAAA,SAAQR,KAAA,CAAC,CACRS,aAAc,CAAEjC,GAChBkC,QAAS,CAAElC,+CALb","sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnDestroy, Output, NgZone } from '@angular/core';\r\nimport * as Highcharts from 'highcharts';\r\n\r\n@Component({\r\n  selector: 'highcharts-chart',\r\n  template: ''\r\n})\r\nexport class HighchartsChartComponent implements OnDestroy {\r\n  @Input() Highcharts: typeof Highcharts;\r\n  @Input() constructorType: string;\r\n  @Input() callbackFunction: Highcharts.ChartCallbackFunction;\r\n  @Input() oneToOne: boolean; // #20\r\n  @Input() runOutsideAngular: boolean; // #75\r\n\r\n  @Input() set options(val: Highcharts.Options) {\r\n    this.optionsValue = val;\r\n    this.wrappedUpdateOrCreateChart();\r\n  }\r\n  @Input() set update(val: boolean) {\r\n    if (val) {\r\n      this.wrappedUpdateOrCreateChart();\r\n      this.updateChange.emit(false); // clear the flag after update\r\n    }\r\n  }\r\n\r\n  @Output() updateChange = new EventEmitter<boolean>(true);\r\n  @Output() chartInstance = new EventEmitter<Highcharts.Chart>(); // #26\r\n\r\n  private chart: Highcharts.Chart;\r\n  private optionsValue: Highcharts.Options;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private _zone: NgZone // #75\r\n  ) {}\r\n\r\n  wrappedUpdateOrCreateChart() { // #75\r\n    if (this.runOutsideAngular) {\r\n      this._zone.runOutsideAngular(() => {\r\n        this.updateOrCreateChart()\r\n      });\r\n    } else {\r\n      this.updateOrCreateChart();\r\n    }\r\n  }\r\n\r\n  updateOrCreateChart() {\r\n    if (this.chart && this.chart.update) {\r\n      this.chart.update(this.optionsValue, true, this.oneToOne || false);\r\n    } else {\r\n      this.chart = (this.Highcharts as any)[this.constructorType || 'chart'](\r\n        this.el.nativeElement,\r\n        this.optionsValue,\r\n        this.callbackFunction || null\r\n      );\r\n\r\n      // emit chart instance on init\r\n      this.chartInstance.emit(this.chart);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() { // #44\r\n    if (this.chart) {  // #56\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {HighchartsChartComponent} from './highcharts-chart.component';\r\n\r\n@NgModule({\r\n  declarations: [ HighchartsChartComponent ],\r\n  exports: [ HighchartsChartComponent ]\r\n})\r\nexport class HighchartsChartModule {}\r\n"]}